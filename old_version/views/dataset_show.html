% rebase('base.html', title='dataset')
<input type="hidden" id="dataset_id" value="{{dataset_id}}">
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <a href="/" class="navbar-brand">
                <img src="/statics/img/logo.png" alt="">
            </a>
        </div>
        <div class="navbar-right">
            <a href="#" class="navbar-brand">
                <img src="/statics/img/arc.png">
            </a>
        </div>
    </div>
</nav>

<div class="container">
    <h2>Dataset</h2>
    <div class="dataset_detail">
        <div class="subtitle">
            <h3>{{name}}</h3>
            <div class="button_div right">
                <button class="btn btn-cyber" id="btn_delete_dataset">Delete Dataset</button>
                <button class="btn btn-cyber" data-toggle="modal" data-target="#modal_new_category"><span class="glyphicon glyphicon-plus"></span>New</button>
            </div>
        </div>
        % for category in dataset:
            <div class="category" data-path='{{category["path"]}}' data-id='{{dataset_id}}'>
                <h4>{{category["category"]}} ({{category["file_num"]}})</h4>
                % if category["dataset_type"] == "image":
                    % for img in category["thumbnails"]:
                        <img src="/uploaded_images{{img}}" class="img-responsive img-rounded thumbnail-30">
                    % end
                % elif category["dataset_type"] == "text":
                    <div class="sample_text">
                        % for t in category["sample_text"]:
                            {{t}}
                        % end
                    </div>
                % end
            </div>
        % end
    </div>
</div>

<div class="modal fade" id="modal_new_category" tabindex="-1" role="dialog" aria-labelledby="modal_new_category">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="modal_new_category_title">
                    % if dataset_type == 'image':
                        Create New Category
                    % elif dataset_type == 'text':
                        Create New Folder
                    % end
                </h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="" class="">
                        % if dataset_type == 'image':
                            Input category name.
                        % elif dataset_type == 'text':
                            Input folder name.
                        % end
                    </label>
                    <input type="text" class="form-control" id="input_category_name" name="category_name" placeholder="input category name">
                </div>
                <button type="button" id="create_category_submit" class="btn btn-cyber disabled">Create</button>
                <button type="cancel" class="btn btn-cyber" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<script>
    var categories = [
        % for category in dataset:
            "{{category['category']}}",
        % end
    ];
</script>
